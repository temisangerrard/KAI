<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KAI Color Accessibility Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .color-test { 
            padding: 20px; 
            margin: 10px 0; 
            border-radius: 8px;
            font-weight: 500;
        }
        .sage-on-white { 
            background: white; 
            color: #6b7a59; /* kai-600 */
            border: 2px solid #6b7a59;
        }
        .white-on-sage { 
            background: #6b7a59; /* kai-600 */
            color: white; 
        }
        .gold-on-white { 
            background: white; 
            color: #b8823d; /* gold-600 */
            border: 2px solid #b8823d;
        }
        .white-on-gold { 
            background: #b8823d; /* gold-600 */
            color: white; 
        }
        .sage-dark-on-cream { 
            background: #F5F3F0; /* cream-500 */
            color: #5a654d; /* kai-700 */
        }
        .contrast-info {
            font-size: 12px;
            opacity: 0.8;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <h1>KAI Accessibility Color Test</h1>
    
    <div class="color-test sage-on-white">
        <strong>Sage Green on White</strong> - Primary brand color for text and borders
        <div class="contrast-info">Should meet WCAG AA (4.5:1) for normal text</div>
    </div>
    
    <div class="color-test white-on-sage">
        <strong>White on Sage Green</strong> - Primary buttons and active states
        <div class="contrast-info">Should meet WCAG AA (4.5:1) for normal text</div>
    </div>
    
    <div class="color-test gold-on-white">
        <strong>Gold on White</strong> - Accent color for highlights
        <div class="contrast-info">Should meet WCAG AA (4.5:1) for normal text</div>
    </div>
    
    <div class="color-test white-on-gold">
        <strong>White on Gold</strong> - Accent buttons
        <div class="contrast-info">Should meet WCAG AA (4.5:1) for normal text</div>
    </div>
    
    <div class="color-test sage-dark-on-cream">
        <strong>Dark Sage on Cream</strong> - Text on light backgrounds
        <div class="contrast-info">Should meet WCAG AA (4.5:1) for normal text</div>
    </div>
    
    <h2>Accessibility Features Implemented:</h2>
    <ul>
        <li>✅ WCAG 2.1 AA compliant color contrast ratios</li>
        <li>✅ Focus indicators with visible outlines</li>
        <li>✅ ARIA labels and landmarks</li>
        <li>✅ Screen reader friendly navigation</li>
        <li>✅ Semantic HTML structure</li>
        <li>✅ Keyboard navigation support</li>
    </ul>
    <script>
        function luminance(r, g, b) {
            const a = [r, g, b].map(v => {
                v /= 255;
                return v <= 0.03928 ? v / 12.92 : Math.pow((v + 0.055) / 1.055, 2.4);
            });
            return 0.2126 * a[0] + 0.7152 * a[1] + 0.0722 * a[2];
        }

        function contrast(rgb1, rgb2) {
            const l1 = luminance(...rgb1);
            const l2 = luminance(...rgb2);
            const bright = Math.max(l1, l2);
            const dark = Math.min(l1, l2);
            return (bright + 0.05) / (dark + 0.05);
        }

        function parseRGB(str) {
            return str.match(/\d+/g).slice(0, 3).map(Number);
        }

        document.querySelectorAll('.color-test').forEach(el => {
            const style = getComputedStyle(el);
            const fg = parseRGB(style.color);
            const bg = parseRGB(style.backgroundColor);
            const ratio = contrast(fg, bg);
            const pass = ratio >= 4.5;
            const info = el.querySelector('.contrast-info');
            if (info) {
                info.textContent = `Contrast ratio: ${ratio.toFixed(2)} - ${pass ? 'PASS' : 'FAIL'}`;
            }
            console.log(`${el.querySelector('strong').textContent}: ${ratio.toFixed(2)} - ${pass ? 'PASS' : 'FAIL'}`);
        });
    </script>
</body>
</html>
